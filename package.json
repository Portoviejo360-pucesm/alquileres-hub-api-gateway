{
  "name": "alquileres-hub-agi-gateway",
  "version": "1.0.0",
  "description": "```\r rental-api-gateway/\r │\r ├── src/\r │   │\r │   ├── config/                          # Configuraciones\r │   │   ├── index.js                     # Config general (puerto, env, etc)\r │   │   ├── services.js                  # URLs de los 4 microservicios\r │   │   ├── roles.js                     # Roles y permisos\r │   │   ├── database.js                  # Config de BD (si aplica)\r │   │   └── redis.js                     # Config de cache\r │   │\r │   ├── middleware/                      # Middlewares\r │   │   ├── auth.js                      # Autenticación JWT\r │   │   ├── roleCheck.js                 # Verificación de roles\r │   │   ├── rateLimiter.js               # Rate limiting\r │   │   ├── validator.js                 # Validación de requests\r │   │   ├── logger.js                    # Logging personalizado\r │   │   ├── errorHandler.js              # Manejo global de errores\r │   │   ├── upload.js                    # Manejo de archivos\r │   │   └── cors.js                      # CORS personalizado\r │   │\r │   ├── routes/                          # Rutas del Gateway\r │   │   │\r │   │   ├── index.js                     # Router principal que une todo\r │   │   │\r │   │   ├── auth.js                      # Autenticación\r │   │   │                                # - POST /register\r │   │   │                                # - POST /login\r │   │   │                                # - POST /logout\r │   │   │                                # - POST /refresh-token\r │   │   │                                # - POST /forgot-password\r │   │   │                                # - PUT /reset-password\r │   │   │\r │   │   ├── propiedades.js               # Módulo 1: Propiedades\r │   │   │                                # Arrendadores:\r │   │   │                                # - GET /landlords\r │   │   │                                # - GET /landlords/:id\r │   │   │                                # - POST /landlords\r │   │   │                                # - PUT /landlords/:id\r │   │   │                                # - DELETE /landlords/:id\r │   │   │                                # Propiedades:\r │   │   │                                # - GET /properties\r │   │   │                                # - GET /properties/:id\r │   │   │                                # - POST /properties\r │   │   │                                # - PUT /properties/:id\r │   │   │                                # - DELETE /properties/:id\r │   │   │                                # - PATCH /properties/:id/status\r │   │   │                                # - POST /properties/:id/photos\r │   │   │                                # - DELETE /properties/:id/photos/:photoId\r │   │   │\r │   │   ├── inquilinos.js                # Módulo 2: Inquilinos y Contratos\r │   │   │                                # Inquilinos:\r │   │   │                                # - GET /tenants\r │   │   │                                # - GET /tenants/:id\r │   │   │                                # - POST /tenants\r │   │   │                                # - PUT /tenants/:id\r │   │   │                                # - DELETE /tenants/:id\r │   │   │                                # - GET /tenants/:id/history\r │   │   │                                # Contratos:\r │   │   │                                # - GET /contracts\r │   │   │                                # - GET /contracts/:id\r │   │   │                                # - POST /contracts\r │   │   │                                # - PUT /contracts/:id\r │   │   │                                # - DELETE /contracts/:id\r │   │   │                                # - GET /contracts/:id/pdf\r │   │   │                                # - POST /contracts/:id/sign\r │   │   │                                # - GET /contracts/expiring\r │   │   │                                # - GET /contracts/active\r │   │   │\r │   │   ├── reportes.js                  # Módulo 3: Reportes y Mantenimiento\r │   │   │                                # Reportes:\r │   │   │                                # - GET /reports\r │   │   │                                # - GET /reports/:id\r │   │   │                                # - POST /reports\r │   │   │                                # - PUT /reports/:id\r │   │   │                                # - DELETE /reports/:id\r │   │   │                                # - PATCH /reports/:id/status\r │   │   │                                # - POST /reports/:id/photos\r │   │   │                                # Seguimiento:\r │   │   │                                # - POST /reports/:id/comments\r │   │   │                                # - GET /reports/:id/timeline\r │   │   │                                # - POST /reports/:id/assign\r │   │   │                                # Notificaciones:\r │   │   │                                # - POST /reports/:id/notify\r │   │   │                                # - GET /reports/notifications\r │   │   │\r │   │   ├── disponibilidad.js            # Módulo 4: Disponibilidad y Búsqueda\r │   │   │                                # Búsqueda:\r │   │   │                                # - GET /search\r │   │   │                                # - POST /search/advanced\r │   │   │                                # Disponibilidad:\r │   │   │                                # - GET /calendar/:propertyId\r │   │   │                                # - GET /dashboard\r │   │   │                                # - GET /statistics\r │   │   │                                # Favoritos:\r │   │   │                                # - POST /favorites/:propertyId\r │   │   │                                # - DELETE /favorites/:propertyId\r │   │   │                                # - GET /favorites\r │   │   │                                # Recomendaciones:\r │   │   │                                # - GET /recommendations\r │   │   │                                # - GET /similar/:propertyId\r │   │   │\r │   │   └── aggregation.js               # Endpoints que combinan datos\r │   │                                    # - GET /landlord/dashboard\r │   │                                    # - GET /tenant/dashboard\r │   │                                    # - GET /property/:id/full\r │   │                                    # - GET /admin/statistics\r │   │\r │   ├── services/                        # Servicios auxiliares\r │   │   ├── proxy.js                     # Proxy HTTP a microservicios\r │   │   ├── aggregator.js                # Agregación de datos\r │   │   ├── cache.js                     # Gestión de cache (Redis)\r │   │   └── notification.js              # Notificaciones (emails, push)\r │   │\r │   ├── utils/                           # Utilidades\r │   │   ├── response.js                  # Respuestas estandarizadas\r │   │   ├── validators.js                # Validadores personalizados\r │   │   ├── errors.js                    # Clases de error personalizadas\r │   │   └── helpers.js                   # Funciones auxiliares\r │   │\r │   └── app.js                           # Aplicación Express principal\r │\r ├── tests/                               # Tests\r │   ├── unit/                            # Tests unitarios\r │   │   ├── middleware/\r │   │   ├── routes/\r │   │   └── services/\r │   │\r │   ├── integration/                     # Tests de integración\r │   │   ├── propiedades.test.js\r │   │   ├── inquilinos.test.js\r │   │   ├── reportes.test.js\r │   │   └── desponibilidad.test.js\r │   │\r │   └── e2e/                            # Tests end-to-end\r │       └── full-flow.test.js\r │\r ├── docs/                                # Documentación\r │   ├── api/\r │   │   ├── swagger.json                 # Spec OpenAPI/Swagger\r │   │   └── postman-collection.json      # Colección Postman\r │   │\r │   └── guides/\r │       ├── setup.md                     # Guía de instalación\r │       ├── deployment.md                # Guía de despliegue\r │\r ├── scripts/                             # Scripts auxiliares\r │   ├── seed.js                          # Datos de prueba\r │   ├── migrate.js                       # Migraciones\r │   └── health-check.js                  # Health check externo\r │\r ├── .env.example                         # Ejemplo de variables de entorno\r ├── .env                                 # Variables de entorno (no versionar)\r ├── .gitignore                           # Archivos ignorados por git\r ├── .dockerignore                        # Archivos ignorados por Docker\r ├── Dockerfile                           # Imagen Docker del Gateway\r ├── docker-compose.yml                   # Orquestación con Docker Compose\r ├── package.json                         # Dependencias Node.js\r ├── package-lock.json                    # Lock de dependencias\r ├── README.md                            # Documentación principal\r └── LICENSE                              # Licencia del proyecto\r ```",
  "main": "index.js",
  "directories": {
    "doc": "docs",
    "test": "tests"
  },
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "type": "commonjs",
  "dependencies": {
    "axios": "^1.13.2",
    "bcryptjs": "^3.0.3",
    "compression": "^1.8.1",
    "cors": "^2.8.5",
    "dotenv": "^17.2.3",
    "express": "^5.2.1",
    "express-rate-limit": "^8.2.1",
    "express-validator": "^7.3.1",
    "helmet": "^8.1.0",
    "http-proxy-middleware": "^3.0.5",
    "joi": "^18.0.2",
    "jsonwebtoken": "^9.0.3",
    "morgan": "^1.10.1",
    "multer": "^2.0.2",
    "redis": "^5.10.0"
  },
  "devDependencies": {
    "nodemon": "^3.1.11"
  }
}